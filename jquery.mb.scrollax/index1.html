<!doctype html>

<!--
  ~ /*******************************************************************************
  ~  jquery.mb.components
  ~  file: index1.html
  ~
  ~  Copyright (c) 2001-2014. Matteo Bicocchi (Pupunzi);
  ~  Open lab srl, Firenze - Italy
  ~  email: matteo@open-lab.com
  ~  site: 	http://pupunzi.com
  ~  blog:	http://pupunzi.open-lab.com
  ~ 	http://open-lab.com
  ~
  ~  Licences: MIT, GPL
  ~  http://www.opensource.org/licenses/mit-license.php
  ~  http://www.gnu.org/licenses/gpl.html
  ~
  ~  last modified: 07/01/14 22.50
  ~  ******************************************************************************/
  -->

<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>

    <title>mb.scrollax 1.0</title>
    <link href="css/mb.scrollax.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script type="text/javascript" src="inc/jquery.easing.1.3.js"></script>
    <script type="text/javascript" src="inc/prefixfree.min.js"></script>
    <script type="text/javascript" src="inc/jquery.mb.scrollax.js"></script>

    <link href='http://fonts.googleapis.com/css?family=Rochester' rel='stylesheet' type='text/css'>

    <style>

        body {
            background: #777777;
            backface-visibility: hidden;
        }

        * {
            box-sizing: border-box;
            transform-origin: 0 0;
        }

        #console {
            position: fixed;
            font-size: 20px;
            background: white;
            width: 200px;
            padding: 20px;
            z-index: 1000;
            max-height: 100%;
            overflow: auto;
        }

        #wrapper {
            backface-visibility: hidden;

            position: relative;
            background: rgba(255, 255, 255, 1);
            overflow: hidden;
            width: 80%;
            margin: auto;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            min-height: 100%;
        }

        h1 {
            text-align: left;
            font-size: 45px;
            line-height: 50px;
        }

        #el1 h1, #theEnd h1 {
            text-align: center;
            font-family: 'Rochester', cursive;
            font-size: 85px;
        }

        h2 {
            text-align: center;
            font-family: 'Rochester', cursive;
            font-size: 35px;
            line-height: 55px;
        }


        #parallaxIndex{
            position: absolute;
            right: 50px;
            top:20px;
        }

        #parallaxIndex div{
            width: 30px;
            height: 30px;
            margin: 5px;
            background-color: #3E3E3E;
            background-color: rgba(0,0,0,0.5);
            display: inline-block;
            position: relative;
            border-radius: 15px;
            z-index: 1000;
            cursor: pointer;
        }

        #parallaxIndex div.sel{
            width: 30px;
            height: 30px;
            margin: 5px;
            background: rgb(255, 192, 0);
            display: inline-block;
            position: relative;
            border-radius: 15px;
            z-index: 1000;
            cursor: pointer;
        }

    </style>
    <script>
        $(function () {

            $.scrollax.init({
                showSteps: true,
                wheelSpeed:10,
                scrollStep:1,
                preloadImages:true,
                onBeforePreloading:function(){
                    $("body").css({opacity:0});
                    $("#preloadBox").show();
                },
                onPreloading:function(counter, tot){
                    $("#preloadBox .number").html(counter+"/"+tot);
                },
                onEndPreloading:function(){
                    $("body").css({opacity:1})
                    $("#preloadBox").hide();
                }
            });

            jQuery.timeline.addPageMarker(0);
            jQuery.timeline.addPageMarker(700);
            jQuery.timeline.addPageMarker(1200);
            jQuery.timeline.addPageMarker(2800);

            $("#el1").addScrollax({
                id            : "first",
                start         : 400,
                duration      : 600,
                startanimation: {'margin-top': 0},
                endanimation  : {'margin-top': -1000}
            });

            $("#el1Bgnd").addScrollax({
                id            : "first",
                start         : 400,
                duration      : 1000,
                startanimation: {'backgroundX': 0, 'backgroundY': 0},
                endanimation  : {'backgroundX': 0, 'backgroundY': 2000}
            });


            $("#el2").addScrollax({
                id          : "first",
                start       : 400,
                duration    : 300,
                endanimation: {'top': 0}
            });

            $("#el2").addScrollax({
                id            : "second",
                start         : 1800,
                duration      : 1000,
                startanimation: {'top': 0},
                endanimation  : {'top': 1200}
            });

            $.timeline.addEvent(900, function () {
                if ($.timeline.dir == "forward") {
                    $("#scene2_img").attr({src: "img/scene_2.gif"});
                } else {
                    $("#scene2_img").attr({src: "img/scene_2.jpg"});
                }
            });

            $("#parallaxIndex").createPageMarkerIndex();
        });

    </script>

</head>
<body>

<div id="preloadBox" style="display: none">loading media: <span class="number"></span> </div>

<!--<div id="console"></div>-->
<div id="wrapper">
    <div id="parallaxIndex"></div>

    <button onclick="$.scrollax.play(7)" style="position: absolute;z-index: 1000;top:10px; left:10px;">auto play
    </button>

    <div id="el1" class="block"
         style="position:absolute;  z-index: 2; width:100%; height: 100%; padding-top: 10%; background-color:#dbd5c0"
         data-start="300" data-duration="2500" data-startanimation="{'top':0}" data-endanimation="{'top':-1000}">
        <div id="el1Bgnd"
             style="opacity:.3; background: url(img/bg_1.jpg) no-repeat 0 0; background-size: cover; position: absolute; top:0 ;left: 0; width: 100%; height: 100%; box-shadow: 0 0 10px rgba(0,0,0,0.6)"
             data-start="0" data-duration="600" data-startanimation="{'opacity':0}"
             data-endanimation="{'opacity':1}"></div>
        <div style="position: relative" data-start="300" data-duration="100" data-startanimation="{'opacity':1}"
             data-endanimation="{'opacity':0}">
            <h1>
                <img src="img/blogLogoBig.png"><br>
                The web worker
            </h1>
            <br><br>

            <div id="startScrolling" data-start="0" data-duration="200" data-startanimation="{'opacity':1}"
                 data-endanimation="{'opacity':0}">
                <h2>start scrolling</h2>

                <h2>â–¼</h2>
            </div>
        </div>
    </div>

    <div id="el2" class="block"
         style=" position:absolute; z-index: 1; width:100%; padding: 40px; height: 100%; padding-top: 20%; background-color:#89cfd3; top:40%; box-shadow: 0 0 10px rgba(0,0,0,0.6)">
        <div id="el2Bgnd"
             style="background: url(img/bg_2.jpg) 0 0; background-attachment: fixed; position: absolute; top:0 ;left: 0; width: 100%; height: 100%"
             data-start="300" data-duration="1000" data-startanimation="{'opacity':1, 'backgroundY':0}"
             data-endanimation="{'opacity':0, 'backgroundY':1000}"></div>
        <div style="position: absolute; top:20%" data-start="1200" data-duration="1000" data-endanimation="{'top':600}">
            <h1>
                <img src="img/blogLogoBig.png" style="transform-origin: 0 0" data-ease="easeOutBounce" data-start="800"
                     data-duration="500" data-startanimation="{'scale':0, 'opacity':0}"
                     data-endanimation="{'scale':1, 'opacity':1}"><br>
                The web worker
            </h1>

            <p>Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Maecenas sed diam
                eget risus varius blandit sit amet non magna. Aenean lacinia bibendum nulla sed consectetur. Praesent
                commodo cursus magna, vel scelerisque nisl consectetur et. Cum sociis natoque penatibus et magnis dis
                parturient montes, nascetur ridiculus mus. Sed posuere consectetur est at lobortis.
                Vestibulum id ligula porta felis euismod semper. Nulla vitae elit libero, a pharetra augue. Etiam porta
                sem malesuada magna mollis euismod. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor
                auctor.</p>
        </div>
    </div>


    <div id="theEnd"
         style="position:absolute ;background: #2f302f; color:#fff; z-index: 0; width:100%; height: 100%; top:1000px; opacity:1; padding-top: 340px;"
         data-start="1800" data-duration="800" data-ease="easeOutBounce" data-endanimation="{'top':0, 'opacity':1}">

        <h1>The end</h1>

        <h2>
            <button onclick="$.timeline.moveTo(0)">top</button>
        </h2>

    </div>


</div>
</body>
</html>
